import{Ea as O,F as n,Ha as x,I as M,J as b,Kc as P,Lc as N,Mc as G,Nc as U,Oc as V,Pc as h,Qa as d,Sc as y,Tc as v,Ua as s,Va as I,Vb as f,Xb as g,Y as l,Yb as S,da as c,gb as u,hc as k,ic as L,jc as R,lc as w,qc as F,ra as T,sa as _,ta as D,ua as m,va as r,wa as a,ya as E,za as A}from"./chunk-WCTJA6V4.js";function z(i,t){if(i&1&&(r(0,"mat-option",3),s(1),a()),i&2){let e=t.$implicit;m("value",e.value),l(),I(e.viewValue)}}var Y=class i{userService=n(g);authService=n(S);dialog=n(N);userId="";ngOnInit(){this.authService.getToken("userType")!="Admin"&&this.getUser()}getUser(){this.authService.getToken("client")==null&&this.userService.user()?.role!="Admin"&&this.setClient(this.userService.user()?._id)}setClient(t){this.dialog.open(C,{data:{id:t},disableClose:!0})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=c({type:i,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(e,o){e&1&&(E(0,"p"),s(1,"dashboard works!"),A())},dependencies:[u,h],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})},C=class i{authService=n(S);userService=n(g);data=n(P);userId=this.data.id;userData=[];clientData=[];ngOnInit(){this.getUser(this.userId)}getUser(t){this.userService.getUser(t).subscribe(e=>{if(e){let o=e.user;console.log(o)}})}toNumber(){return this.authService.getToken("client")==null?0:Number(this.authService.getToken("client"))}onSetClient(t){if(confirm("Are you sure you want to handle this client?")){let e="";this.authService.getToken("client")==null?e="Client chosen successfully":e="Client changed successfully",this.authService.setToken("client",String(t)),F.success(e)}}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=c({type:i,selectors:[["set-client-dialog"]],decls:16,vars:3,consts:[["client",""],["mat-dialog-title",""],[1,"w-full","mb-4"],[3,"value"],[1,"mt-6"],["mat-raised-button","","mat-dialog-close","","color","primary","type","submit",1,"w-full","py-2",3,"click","disabled"],["mat-raised-button","","mat-dialog-close","","color","primary",1,"w-full","py-2","mt-3",3,"disabled"]],template:function(e,o){if(e&1){let p=O();r(0,"h2",1),s(1,"Choose a client to handle"),a(),r(2,"mat-dialog-content")(3,"div")(4,"mat-form-field",2)(5,"mat-label"),s(6,"Client"),a(),r(7,"mat-select",3,0),_(9,z,2,2,"mat-option",3,T),a()()(),r(11,"div",4)(12,"button",5),x("click",function(){M(p);let B=d(8);return b(o.onSetClient(B.value))}),s(13," Set Client "),a(),r(14,"button",6),s(15," Cancel "),a()()()}if(e&2){let p=d(8);l(7),m("value",o.toNumber()),l(2),D(o.clientData),l(3),m("disabled",p.value==0),l(2),m("disabled",p.value==0||o.authService.getToken("client")==null)}},dependencies:[u,h,G,U,V,v,w,R,y,f,L,k],styles:["[_nghost-%COMP%]{display:block}"]})};export{Y as a,C as b};
